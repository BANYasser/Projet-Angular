<div>
  <h2>Liste des Ventes</h2>
  <div class="total-journalier">
    Total journalier : <strong>{{ totalJournalier | currency:'XOF' }}</strong>
  </div>

  <button class="add-btn" (click)="addSale()">Enregistrer une vente</button>

  @if (isLoading) {
    <div>Chargement des ventes…</div>
  } @else if (error) {
    <div class="error">{{ error }}</div>
  } @else {
    <table>
      <thead>
        <tr>
          <th>Date</th>
          <th>Médicament</th>
          <th>Quantité</th>
          <th>Prix Total</th>
          <th>Actions</th>
        </tr>
      </thead>
      <tbody>
        @for (sale of sales; track sale.id) {
          <tr>
            <td>{{ sale.date | date:'dd/MM/yyyy HH:mm' }}</td>
            <td>{{ sale.medicineName }}</td>
            <td>{{ sale.quantity }}</td>
            <td>{{ sale.totalPrice | currency:'XOF' }}</td>
            <td>
              <button class="edit-btn" (click)="editSale(sale)">Modifier</button>
              <button class="delete-btn" (click)="deleteSale(sale.id)">Supprimer</button>
            </td>
          </tr>
        }
      </tbody>
    </table>
  }
</div>